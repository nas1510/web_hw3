{"mappings":"AAAA,MAAM,SAAS;AACf,MAAM,SAAS;AAEf,MAAM,cAAc,SAAS,aAAa,CAAC;AAC3C,MAAM,eAAe,SAAS,aAAa,CAAC;AAC5C,MAAM,cAAc,SAAS,aAAa,CAAC;AAC3C,MAAM,WAAW,EAAE;AACnB,MAAM,UAAU,SAAS,aAAa,CAAC;AACvC,MAAM,YAAY,SAAS,aAAa,CAAC;AAEzC,SAAS,kBAAkB,IAAI;IAC7B,SAAS,aAAa,CAAC,SAAS,SAAS,GAAG,KAAK,IAAI;IACrD,SAAS,aAAa,CAAC,SAAS,SAAS,GAAG,KAAK,KAAK,CAAC,KAAK,IAAI,CAAC,IAAI,IAAI;IACzE,SAAS,aAAa,CAAC,aAAa,SAAS,GAAG,KAAK,IAAI,CAAC,QAAQ,GAAG;IACrE,SAAS,aAAa,CAAC,SAAS,SAAS,GAAG,KAAK,IAAI,CAAC,KAAK,GAAG;IAE9D,OAAQ,KAAK,OAAO,CAAC,EAAE,CAAC,IAAI;QAC1B,KAAK;YACH,YAAY,SAAS,GAAG;YACxB;QACF,KAAK;YACH,YAAY,SAAS,GAAG;YACxB;QACF,KAAK;YACH,YAAY,SAAS,GAAG;YACxB;QACF,KAAK;YACH,YAAY,SAAS,GAAG;YACxB;IACJ;IAEA,QAAQ,KAAK,CAAC,OAAO,GAAG;IACxB,UAAU,KAAK,CAAC,OAAO,GAAG;IAC1B,SAAS,IAAI,CAAC,KAAK,IAAI;IACvB,kBAAkB,yCAAyC;AAC7D;AAEA,YAAY;AACZ,eAAe,aAAa,IAAI;IAC9B,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,CAAC,EAAE,OAAO,EAAE,KAAK,OAAO,EAAE,OAAO,CAAC,EAAE;YAC/D,QAAQ;QACV;QACA,IAAI,SAAS,MAAM,KAAK,KAAK;YAC3B,UAAU,KAAK,CAAC,OAAO,GAAG;YAC1B,QAAQ,KAAK,CAAC,OAAO,GAAG;QAC1B,OAAO;YACL,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,QAAQ,GAAG,CAAC;YACZ,kBAAkB;QACpB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC;IAChD;AACF;AAEA,SAAS;IACL,SAAS,MAAM,GAAG;IAClB;AACF;AAEF,SAAS;IACL,MAAM,kBAAkB,SAAS,cAAc,CAAC;IAChD,gBAAgB,SAAS,GAAG;IAE5B,KAAK,MAAM,YAAY,SAAU;QAC/B,MAAM,WAAW,SAAS,aAAa,CAAC;QACxC,SAAS,WAAW,GAAG;QACvB,gBAAgB,WAAW,CAAC;IAC9B;AACF;AAGF,SAAS;IACP,aAAa,YAAY,KAAK;IAC9B,YAAY,KAAK,GAAG;AACtB;AAEA,aAAa,gBAAgB,CAAC,SAAS;AACvC,YAAY,gBAAgB,CAAC,WAAW,CAAC;IACvC,IAAI,MAAM,OAAO,KAAK,IACpB;AAEJ;AAEA,mBAAmB,gBAAgB,CAAC,SAAS","sources":["hw_1/src/main.js"],"sourcesContent":["const apiKey = \"768e0288406389e6e0f9840659813b24\";\r\nconst apiUrl = \"https://api.openweathermap.org/data/2.5/weather?units=metric&q=\";\r\n\r\nconst searchInput = document.querySelector(\".search-box input\");\r\nconst searchButton = document.querySelector(\".search-box button\");\r\nconst weatherIcon = document.querySelector(\".weather-image i\");\r\nconst cityList = [];\r\nconst weather = document.querySelector(\".weather\");\r\nconst errorText = document.querySelector(\".error\");\r\n\r\nfunction updateWeatherInfo(data) {\r\n  document.querySelector(\".city\").innerHTML = data.name;\r\n  document.querySelector(\".temp\").innerHTML = Math.round(data.main.temp) + \"&#8451\";\r\n  document.querySelector(\".humidity\").innerHTML = data.main.humidity + \"%\";\r\n  document.querySelector(\".wind\").innerHTML = data.wind.speed + \" км/ч\";\r\n  \r\n  switch (data.weather[0].main) {\r\n    case \"Clear\":\r\n      weatherIcon.className = \"fa-solid fa-sun\";\r\n      break;\r\n    case \"Rain\":\r\n      weatherIcon.className = \"fa-solid fa-cloud-rain\";\r\n      break;\r\n    case \"Mist\":\r\n      weatherIcon.className = \"fa-solid fa-cloud-mist\";\r\n      break;\r\n    case \"Drizzle\":\r\n      weatherIcon.className = \"fa-solid fa-cloud-drizzle\";\r\n      break;\r\n  }\r\n\r\n  weather.style.display = \"block\";\r\n  errorText.style.display = \"none\";\r\n  cityList.push(data.name);\r\n  updateCityList(); // Вызываем функцию для обновления списка\r\n}\r\n\r\n// Метод GET\r\nasync function checkWeather(city) {\r\n  try {\r\n    const response = await fetch(`${apiUrl}${city}&appid=${apiKey}`, {\r\n      method: \"GET\",\r\n    });\r\n    if (response.status === 404) {\r\n      errorText.style.display = \"block\";\r\n      weather.style.display = \"none\";\r\n    } else {\r\n      const data = await response.json();\r\n      console.log(data);\r\n      updateWeatherInfo(data);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching weather data:\", error);\r\n  }\r\n}\r\n\r\nfunction clearCityHistory() {\r\n    cityList.length = 0; \r\n    updateCityList(); \r\n  }\r\n\r\nfunction updateCityList() {\r\n    const cityListElement = document.getElementById(\"city-list\");\r\n    cityListElement.innerHTML = \"\";\r\n  \r\n    for (const cityName of cityList) {\r\n      const listItem = document.createElement(\"li\");\r\n      listItem.textContent = cityName;\r\n      cityListElement.appendChild(listItem);\r\n    }\r\n  }\r\n\r\n\r\nfunction handleSearch() {\r\n  checkWeather(searchInput.value);\r\n  searchInput.value = \"\";\r\n}\r\n\r\nsearchButton.addEventListener(\"click\", handleSearch);\r\nsearchInput.addEventListener(\"keydown\", (event) => {\r\n  if (event.keyCode === 13) {\r\n    handleSearch();\r\n  }\r\n});\r\n\r\nclearHistoryButton.addEventListener(\"click\", clearCityHistory);\r\n"],"names":[],"version":3,"file":"index.bf0ae3ef.js.map","sourceRoot":"/__parcel_source_root/"}